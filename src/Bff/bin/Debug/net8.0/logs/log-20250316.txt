{"Timestamp":"2025-03-16T19:41:57.3831550+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\ADMIN\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-03-16T19:41:59.6434073+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"123","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:41:59.7234638+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"62","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:00.1587148+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"65","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:00.5847519+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"64","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:00.6487647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"61","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:00.6595700+07:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations"}}
{"Timestamp":"2025-03-16T19:42:00.9184159+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"80","parameters":"@__administratorRole_Name_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT NOT EXISTS (\r\n    SELECT 1\r\n    FROM \"AspNetRoles\" AS a\r\n    WHERE a.\"Name\" = @__administratorRole_Name_0 AND a.\"Name\" IS NOT NULL)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:00.9895224+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"62","parameters":"@__user_Name_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT NOT EXISTS (\r\n    SELECT 1\r\n    FROM \"AspNetRoles\" AS a\r\n    WHERE a.\"Name\" = @__user_Name_0 AND a.\"Name\" IS NOT NULL)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.0557742+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"61","parameters":"@__administrator_UserName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT NOT EXISTS (\r\n    SELECT 1\r\n    FROM \"AspNetUsers\" AS a\r\n    WHERE a.\"UserName\" = @__administrator_UserName_0 AND a.\"UserName\" IS NOT NULL)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.1841233+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"78","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationType\", o.\"ClientId\", o.\"ClientSecret\", o.\"ClientType\", o.\"ConcurrencyToken\", o.\"ConsentType\", o.\"DisplayName\", o.\"DisplayNames\", o.\"JsonWebKeySet\", o.\"Permissions\", o.\"PostLogoutRedirectUris\", o.\"Properties\", o.\"RedirectUris\", o.\"Requirements\", o.\"Settings\"\r\nFROM \"OpenIddictApplications\" AS o\r\nWHERE o.\"ClientId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.3211966+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"60","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationType\", o.\"ClientId\", o.\"ClientSecret\", o.\"ClientType\", o.\"ConcurrencyToken\", o.\"ConsentType\", o.\"DisplayName\", o.\"DisplayNames\", o.\"JsonWebKeySet\", o.\"Permissions\", o.\"PostLogoutRedirectUris\", o.\"Properties\", o.\"RedirectUris\", o.\"Requirements\", o.\"Settings\"\r\nFROM \"OpenIddictApplications\" AS o\r\nWHERE o.\"ClientId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.3871566+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationType\", o.\"ClientId\", o.\"ClientSecret\", o.\"ClientType\", o.\"ConcurrencyToken\", o.\"ConsentType\", o.\"DisplayName\", o.\"DisplayNames\", o.\"JsonWebKeySet\", o.\"Permissions\", o.\"PostLogoutRedirectUris\", o.\"Properties\", o.\"RedirectUris\", o.\"Requirements\", o.\"Settings\"\r\nFROM \"OpenIddictApplications\" AS o\r\nWHERE o.\"ClientId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.4534311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationType\", o.\"ClientId\", o.\"ClientSecret\", o.\"ClientType\", o.\"ConcurrencyToken\", o.\"ConsentType\", o.\"DisplayName\", o.\"DisplayNames\", o.\"JsonWebKeySet\", o.\"Permissions\", o.\"PostLogoutRedirectUris\", o.\"Properties\", o.\"RedirectUris\", o.\"Requirements\", o.\"Settings\"\r\nFROM \"OpenIddictApplications\" AS o\r\nWHERE o.\"ClientId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.5251888+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"60","parameters":"@__name_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ConcurrencyToken\", o.\"Description\", o.\"Descriptions\", o.\"DisplayName\", o.\"DisplayNames\", o.\"Name\", o.\"Properties\", o.\"Resources\"\r\nFROM \"OpenIddictScopes\" AS o\r\nWHERE o.\"Name\" = @__name_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:42:01.7942564+07:00","Level":"Information","MessageTemplate":"Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl","Properties":{"SourceContext":"Quartz.Core.SchedulerSignalerImpl"}}
{"Timestamp":"2025-03-16T19:42:01.7951313+07:00","Level":"Information","MessageTemplate":"Quartz Scheduler created","Properties":{"SourceContext":"Quartz.Core.QuartzScheduler"}}
{"Timestamp":"2025-03-16T19:42:01.7961728+07:00","Level":"Information","MessageTemplate":"JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory","Properties":{"SourceContext":"Quartz.Core.QuartzScheduler"}}
{"Timestamp":"2025-03-16T19:42:01.7970861+07:00","Level":"Information","MessageTemplate":"RAMJobStore initialized.","Properties":{"SourceContext":"Quartz.Simpl.RAMJobStore"}}
{"Timestamp":"2025-03-16T19:42:01.7980146+07:00","Level":"Information","MessageTemplate":"Quartz Scheduler 3.8.1.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized","Properties":{"SourceContext":"Quartz.Impl.StdSchedulerFactory"}}
{"Timestamp":"2025-03-16T19:42:01.7986322+07:00","Level":"Information","MessageTemplate":"Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10","Properties":{"SourceContext":"Quartz.Impl.StdSchedulerFactory"}}
{"Timestamp":"2025-03-16T19:42:01.7994035+07:00","Level":"Information","MessageTemplate":"Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False","Properties":{"SourceContext":"Quartz.Impl.StdSchedulerFactory"}}
{"Timestamp":"2025-03-16T19:42:01.8058827+07:00","Level":"Information","MessageTemplate":"Adding 1 jobs, 1 triggers.","Properties":{"SourceContext":"Quartz.ContainerConfigurationProcessor"}}
{"Timestamp":"2025-03-16T19:42:01.8080697+07:00","Level":"Information","MessageTemplate":"Adding job: OpenIddict/Quartz.NET integration.OpenIddict job","Properties":{"SourceContext":"Quartz.ContainerConfigurationProcessor"}}
{"Timestamp":"2025-03-16T19:42:02.0462240+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7164","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T19:42:02.0470807+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5085","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T19:42:02.0482532+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T19:42:02.0489408+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T19:42:02.0498098+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T19:42:02.0514784+07:00","Level":"Information","MessageTemplate":"Scheduler QuartzScheduler_$_NON_CLUSTERED started.","Properties":{"SourceContext":"Quartz.Core.QuartzScheduler"}}
{"Timestamp":"2025-03-16T19:42:02.2432583+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11f814b6d822d6899603c9454ae27e8e","SpanId":"3122614cd3fa6111","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMQ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNB4GVPL3IMQ"}}
{"Timestamp":"2025-03-16T19:42:02.2907285+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11f814b6d822d6899603c9454ae27e8e","SpanId":"3122614cd3fa6111","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":43.1581,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.1581"}]}}
{"Timestamp":"2025-03-16T19:42:02.3010259+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11f814b6d822d6899603c9454ae27e8e","SpanId":"3122614cd3fa6111","Properties":{"ElapsedMilliseconds":58.1409,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMQ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNB4GVPL3IMQ"}}
{"Timestamp":"2025-03-16T19:42:02.4980404+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37af655a97369412147e5de4ec5360f8","SpanId":"e1326b0a87434ef0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMQ:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNB4GVPL3IMQ"}}
{"Timestamp":"2025-03-16T19:42:02.5902847+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37af655a97369412147e5de4ec5360f8","SpanId":"e1326b0a87434ef0","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":90.765,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"90.7650"}]}}
{"Timestamp":"2025-03-16T19:42:02.5913991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37af655a97369412147e5de4ec5360f8","SpanId":"e1326b0a87434ef0","Properties":{"ElapsedMilliseconds":93.3256,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMQ:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNB4GVPL3IMQ"}}
{"Timestamp":"2025-03-16T19:42:22.0971736+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.2471900+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.2952684+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.3057590+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.3109824+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.3340677+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:22.3378678+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":238.777,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"238.7770"}]}}
{"Timestamp":"2025-03-16T19:42:22.3389646+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"949923f80442e9614b00757d59636dfd","SpanId":"3271c19f9d3c795a","Properties":{"ElapsedMilliseconds":241.8401,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000001","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8490677+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8495967+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/x-www-form-urlencoded","ContentLength":189,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/token","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8515720+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8541153+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8556921+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8567019+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"Endpoint":"Token","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8570678+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8617062+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8629448+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8639936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":13.6037,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.6037"}]}}
{"Timestamp":"2025-03-16T19:42:23.8664249+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2bf269e5d85e31694759f482ab8757e3","SpanId":"9193259355bd6c6c","Properties":{"ElapsedMilliseconds":17.3361,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000003","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8708796+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8718251+07:00","Level":"Information","MessageTemplate":"The token request was successfully extracted: {Request}.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"Request":"{\r\n  \"grant_type\": \"password\",\r\n  \"scope\": \"offline_access roles profile openid\",\r\n  \"client_id\": \"pm\",\r\n  \"client_secret\": \"[redacted]\",\r\n  \"username\": \"ngocsang24\",\r\n  \"password\": \"[redacted]\"\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8733900+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8778442+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8842523+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8854056+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8903128+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.8913629+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":18.0642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0642"}]}}
{"Timestamp":"2025-03-16T19:42:23.8922269+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"266e62b31a148933378fefa40e2b9cec","SpanId":"ad933b903ee1000d","Properties":{"ElapsedMilliseconds":21.3612,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000007","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:23.9953570+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationType\", o.\"ClientId\", o.\"ClientSecret\", o.\"ClientType\", o.\"ConcurrencyToken\", o.\"ConsentType\", o.\"DisplayName\", o.\"DisplayNames\", o.\"JsonWebKeySet\", o.\"Permissions\", o.\"PostLogoutRedirectUris\", o.\"Properties\", o.\"RedirectUris\", o.\"Requirements\", o.\"Settings\"\r\nFROM \"OpenIddictApplications\" AS o\r\nWHERE o.\"ClientId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.0423146+07:00","Level":"Information","MessageTemplate":"The token request was successfully validated.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.0867096+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"EndpointName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.1001979+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"RouteData":"{action = \"Exchange\", controller = \"Authorization\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange()","Controller":"Bff.Endpoints.AuthorizationController","AssemblyName":"Bff","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.1177617+07:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.2026950+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"62","parameters":"@__normalizedUserName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ActivationDate\", a.\"Address\", a.\"Birthday\", a.\"ConcurrencyStamp\", a.\"DisplayName\", a.\"Email\", a.\"EmailConfirmed\", a.\"Expires_at\", a.\"FullName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"OTP\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"Status\", a.\"Tenant\", a.\"TwoFactorEnabled\", a.\"Updated_at\", a.\"UserName\"\r\nFROM \"AspNetUsers\" AS a\r\nWHERE a.\"NormalizedUserName\" = @__normalizedUserName_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.4957344+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"64","parameters":"@__userId_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a0.\"Name\"\r\nFROM \"AspNetUserRoles\" AS a\r\nINNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"\r\nWHERE a.\"UserId\" = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.7369231+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"161","parameters":"@__p_0='?' (DbType = Object)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ConcurrencyToken\", o.\"Description\", o.\"Descriptions\", o.\"DisplayName\", o.\"DisplayNames\", o.\"Name\", o.\"Properties\", o.\"Resources\"\r\nFROM \"OpenIddictScopes\" AS o\r\nWHERE o.\"Name\" = ANY (@__p_0) OR (o.\"Name\" IS NULL AND array_position(@__p_0, NULL) IS NOT NULL)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.7500099+07:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","ActionResult":"Microsoft.AspNetCore.Mvc.SignInResult","ElapsedMilliseconds":626.5119,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:24.7628087+07:00","Level":"Information","MessageTemplate":"Executing SignInResult with authentication scheme ({Scheme}) and the following principal: {Principal}.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"Scheme":"OpenIddict.Server.AspNetCore","Principal":"System.Security.Claims.ClaimsPrincipal","EventId":{"Id":1,"Name":"SignInResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.SignInResult","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.1486403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"75","parameters":"@p0='?', @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"OpenIddictAuthorizations\" (\"Id\", \"ApplicationId\", \"ConcurrencyToken\", \"CreationDate\", \"Properties\", \"Scopes\", \"Status\", \"Subject\", \"Type\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.1837146+07:00","Level":"Information","MessageTemplate":"An ad hoc authorization was automatically created and associated with the '{ClientId}' application: {Identifier}.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"ClientId":"pm","Identifier":"2290b1a0-e319-43a1-a31c-85e05b47e0f8","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.3548538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"66","parameters":"@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"OpenIddictTokens\" (\"Id\", \"ApplicationId\", \"AuthorizationId\", \"ConcurrencyToken\", \"CreationDate\", \"ExpirationDate\", \"Payload\", \"Properties\", \"RedemptionDate\", \"ReferenceId\", \"Status\", \"Subject\", \"Type\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.5738510+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"69","parameters":"@p12='?', @p0='?', @p1='?', @p2='?', @p13='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"OpenIddictTokens\" SET \"ApplicationId\" = @p0, \"AuthorizationId\" = @p1, \"ConcurrencyToken\" = @p2, \"CreationDate\" = @p3, \"ExpirationDate\" = @p4, \"Payload\" = @p5, \"Properties\" = @p6, \"RedemptionDate\" = @p7, \"ReferenceId\" = @p8, \"Status\" = @p9, \"Subject\" = @p10, \"Type\" = @p11\r\nWHERE \"Id\" = @p12 AND \"ConcurrencyToken\" = @p13;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.6478120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"63","parameters":"@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"OpenIddictTokens\" (\"Id\", \"ApplicationId\", \"AuthorizationId\", \"ConcurrencyToken\", \"CreationDate\", \"ExpirationDate\", \"Payload\", \"Properties\", \"RedemptionDate\", \"ReferenceId\", \"Status\", \"Subject\", \"Type\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.7327867+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"70","parameters":"@p12='?', @p0='?', @p1='?', @p2='?', @p13='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"OpenIddictTokens\" SET \"ApplicationId\" = @p0, \"AuthorizationId\" = @p1, \"ConcurrencyToken\" = @p2, \"CreationDate\" = @p3, \"ExpirationDate\" = @p4, \"Payload\" = @p5, \"Properties\" = @p6, \"RedemptionDate\" = @p7, \"ReferenceId\" = @p8, \"Status\" = @p9, \"Subject\" = @p10, \"Type\" = @p11\r\nWHERE \"Id\" = @p12 AND \"ConcurrencyToken\" = @p13;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8066531+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"elapsed":"63","parameters":"@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"OpenIddictTokens\" (\"Id\", \"ApplicationId\", \"AuthorizationId\", \"ConcurrencyToken\", \"CreationDate\", \"ExpirationDate\", \"Payload\", \"Properties\", \"RedemptionDate\", \"ReferenceId\", \"Status\", \"Subject\", \"Type\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8216454+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"Response":"{\r\n  \"access_token\": \"[redacted]\",\r\n  \"token_type\": \"Bearer\",\r\n  \"expires_in\": 3599,\r\n  \"id_token\": \"[redacted]\",\r\n  \"refresh_token\": \"[redacted]\"\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","ActionId":"440e1ef0-4ac1-4a43-a09b-da70d2f9bad5","ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8370172+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"ActionName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","ElapsedMilliseconds":1727.8293,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8395646+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"EndpointName":"Bff.Endpoints.AuthorizationController.Exchange (Bff)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8410949+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"RequestMethod":"POST","RequestPath":"/connect/token","StatusCode":200,"Elapsed":1989.3969,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1989.3969"}]}}
{"Timestamp":"2025-03-16T19:42:25.8443634+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05de3a7c7cfdcf6513a3408032c401d7","SpanId":"e7328b0f7d12ea48","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/userinfo","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000009","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8484916+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"05de3a7c7cfdcf6513a3408032c401d7","SpanId":"e7328b0f7d12ea48","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000009","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8495958+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0cbdb5bee8b9464c96cf586f33821612","SpanId":"ece38a463e354d87","Properties":{"ElapsedMilliseconds":1999.9745,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1150,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/token","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000005","RequestPath":"/connect/token","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8503819+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05de3a7c7cfdcf6513a3408032c401d7","SpanId":"e7328b0f7d12ea48","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/connect/userinfo","StatusCode":204,"Elapsed":4.9325,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4.9325"}]}}
{"Timestamp":"2025-03-16T19:42:25.8522742+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05de3a7c7cfdcf6513a3408032c401d7","SpanId":"e7328b0f7d12ea48","Properties":{"ElapsedMilliseconds":7.9048,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/userinfo","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000009","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8545583+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/userinfo","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8558174+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8563292+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"Endpoint":"Userinfo","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:25.8611867+07:00","Level":"Information","MessageTemplate":"The userinfo request was successfully extracted: {Request}.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"Request":"{\r\n  \"access_token\": \"[redacted]\"\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.0625794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"elapsed":"67","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.1834526+07:00","Level":"Information","MessageTemplate":"The userinfo request was successfully validated.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.1973988+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"EndpointName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.2018483+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"RouteData":"{action = \"Userinfo\", controller = \"Userinfo\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo()","Controller":"Bff.Endpoints.UserinfoController","AssemblyName":"Bff","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.2044361+07:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.2798988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"elapsed":"63","parameters":"@__p_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ActivationDate\", a.\"Address\", a.\"Birthday\", a.\"ConcurrencyStamp\", a.\"DisplayName\", a.\"Email\", a.\"EmailConfirmed\", a.\"Expires_at\", a.\"FullName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"OTP\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"Status\", a.\"Tenant\", a.\"TwoFactorEnabled\", a.\"Updated_at\", a.\"UserName\"\r\nFROM \"AspNetUsers\" AS a\r\nWHERE a.\"Id\" = @__p_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3431675+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"elapsed":"60","parameters":"@__userId_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a0.\"Name\"\r\nFROM \"AspNetUserRoles\" AS a\r\nINNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"\r\nWHERE a.\"UserId\" = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3450256+07:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":139.8113,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3499511+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0effcf3a-daa4-4718-84ec-ec4b56b81326","ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3590996+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"ActionName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","ElapsedMilliseconds":156.0395,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3601705+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"EndpointName":"Bff.Endpoints.UserinfoController.Userinfo (Bff)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3609841+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"RequestMethod":"GET","RequestPath":"/connect/userinfo","StatusCode":200,"Elapsed":505.2364,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"505.2364"}]}}
{"Timestamp":"2025-03-16T19:42:26.3625774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ccaa664a7621cbdcad1beb2368263cbf","SpanId":"aff412ed0f507323","Properties":{"ElapsedMilliseconds":508.0057,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/connect/userinfo","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000B","RequestPath":"/connect/userinfo","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3787787+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd2fb37b54fbc92f002b9c8e3d6c6e4e","SpanId":"fd294b17953ffa62","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3802899+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fd2fb37b54fbc92f002b9c8e3d6c6e4e","SpanId":"fd294b17953ffa62","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000000D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3807721+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd2fb37b54fbc92f002b9c8e3d6c6e4e","SpanId":"fd294b17953ffa62","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":204,"Elapsed":0.5886,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.5886"}]}}
{"Timestamp":"2025-03-16T19:42:26.3817721+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd2fb37b54fbc92f002b9c8e3d6c6e4e","SpanId":"fd294b17953ffa62","Properties":{"ElapsedMilliseconds":2.9854,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3836414+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3883016+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3883351+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c51e2e5b697bc76f914cf04e67d9d583","SpanId":"aa7712c162ba065d","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000011","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3900450+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c51e2e5b697bc76f914cf04e67d9d583","SpanId":"aa7712c162ba065d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000011","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3905687+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c51e2e5b697bc76f914cf04e67d9d583","SpanId":"aa7712c162ba065d","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/todo/list","StatusCode":204,"Elapsed":0.6776,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6776"}]}}
{"Timestamp":"2025-03-16T19:42:26.3915945+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c51e2e5b697bc76f914cf04e67d9d583","SpanId":"aa7712c162ba065d","Properties":{"ElapsedMilliseconds":3.2396,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000011","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3936750+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":30,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.3997121+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4000030+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"21df5a87c76ad0879b2d5967fdafe7c4","SpanId":"2bee10cb5273ac65","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000015","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4017025+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"21df5a87c76ad0879b2d5967fdafe7c4","SpanId":"2bee10cb5273ac65","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000015","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4022653+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"21df5a87c76ad0879b2d5967fdafe7c4","SpanId":"2bee10cb5273ac65","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-all-unit/null","StatusCode":204,"Elapsed":0.6609,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6609"}]}}
{"Timestamp":"2025-03-16T19:42:26.4031843+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"21df5a87c76ad0879b2d5967fdafe7c4","SpanId":"2bee10cb5273ac65","Properties":{"ElapsedMilliseconds":3.1655,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000015","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4053659+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4077374+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.4812342+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"elapsed":"64","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.5107106+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.6129467+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"elapsed":"67","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND NOT (t.\"IsWorkSpacePersonal\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.6837305+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"elapsed":"63","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"TenantId\"\r\nFROM \"TenantMembers\" AS t\r\nWHERE t.\"UserId\" = @__Parse_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.6995428+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.7041766+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.7068033+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.7076899+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"RequestMethod":"GET","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":200,"Elapsed":322.2623,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"322.2623"}]}}
{"Timestamp":"2025-03-16T19:42:26.7088188+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69e1ce24a7cc7605d4d2613441480a22","SpanId":"90aac47d0bb5324f","Properties":{"ElapsedMilliseconds":325.1799,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000000F","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9019355+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"elapsed":"62","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9065652+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9254643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"elapsed":"67","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9296916+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9310389+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9322266+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/null","StatusCode":500,"Elapsed":525.772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"525.7720"}]}}
{"Timestamp":"2025-03-16T19:42:26.9552512+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:26.9615743+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1701ec697a12587080715689f9518962","SpanId":"25b3f094ea74c33c","Properties":{"ElapsedMilliseconds":556.2014,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000017","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.2725355+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f3672a3e2ec4463ac362baa6ce074061","SpanId":"8a1d04186b7ccde6","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000019","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.2745365+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f3672a3e2ec4463ac362baa6ce074061","SpanId":"8a1d04186b7ccde6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000019","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.2751777+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f3672a3e2ec4463ac362baa6ce074061","SpanId":"8a1d04186b7ccde6","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/tenant/create","StatusCode":204,"Elapsed":0.7749,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.7749"}]}}
{"Timestamp":"2025-03-16T19:42:42.2763104+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f3672a3e2ec4463ac362baa6ce074061","SpanId":"8a1d04186b7ccde6","Properties":{"ElapsedMilliseconds":3.7761,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000019","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.2774162+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":39,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.2798321+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3012863+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3130211+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3248891+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3257664+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/list","StatusCode":500,"Elapsed":15928.5629,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15928.5629"}]}}
{"Timestamp":"2025-03-16T19:42:42.3450807+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3470623+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"elapsed":"64","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.3546246+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"EndpointName":"HTTP: POST /api/tenant/create => CreateTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.5147175+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"elapsed":"59","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Guid), @p5='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"Tenants\" (\"Id\", \"CreatedDate\", \"Description\", \"Name\", \"Owner\", \"OwnerName\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5)\r\nRETURNING \"IsWorkSpacePersonal\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.5985208+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"elapsed":"64","parameters":"@__query_Id_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"UserId\", t.\"UserName\"\r\nFROM \"TenantMembers\" AS t\r\nWHERE t.\"TenantId\" = @__query_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.7007567+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"elapsed":"62","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"TenantMembers\" (\"Id\", \"BackupDataTenantId\", \"TenantId\", \"UserFullName\", \"UserId\", \"UserName\")\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.7037292+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.7048294+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.7109619+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"EndpointName":"HTTP: POST /api/tenant/create => CreateTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.7115972+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"RequestMethod":"POST","RequestPath":"/api/tenant/create","StatusCode":200,"Elapsed":431.8499,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"431.8499"}]}}
{"Timestamp":"2025-03-16T19:42:42.7130421+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2621046958a8c2617ede955bbe466b76","SpanId":"d33539ec6e45a361","Properties":{"ElapsedMilliseconds":435.6176,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001B","RequestPath":"/api/tenant/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:42.8631094+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"elapsed":"64","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:43.4882322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"elapsed":"67","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:43.5547429+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"elapsed":"63","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.6376602+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bc3057066c3e5acfb613b45242bcf05b","SpanId":"9cf58e0cbfac0ba0","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.6396551+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bc3057066c3e5acfb613b45242bcf05b","SpanId":"9cf58e0cbfac0ba0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000001D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.6411678+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bc3057066c3e5acfb613b45242bcf05b","SpanId":"9cf58e0cbfac0ba0","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":204,"Elapsed":1.6996,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1.6996"}]}}
{"Timestamp":"2025-03-16T19:42:44.6416513+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bc3057066c3e5acfb613b45242bcf05b","SpanId":"9cf58e0cbfac0ba0","Properties":{"ElapsedMilliseconds":3.9951,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.6434396+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.6470459+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.7073113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"elapsed":"58","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:44.7102960+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9401806+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f27b58043d0e04dfc409c26e8a8ec6f3","SpanId":"9a99c8949ce01b3a","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000021","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9419256+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f27b58043d0e04dfc409c26e8a8ec6f3","SpanId":"9a99c8949ce01b3a","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000021","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9495818+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f27b58043d0e04dfc409c26e8a8ec6f3","SpanId":"9a99c8949ce01b3a","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-member","StatusCode":204,"Elapsed":7.7425,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7.7425"}]}}
{"Timestamp":"2025-03-16T19:42:45.9519508+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f27b58043d0e04dfc409c26e8a8ec6f3","SpanId":"9a99c8949ce01b3a","Properties":{"ElapsedMilliseconds":11.7445,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000021","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9527510+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1c200c1c53f207f70d6768998b70054","SpanId":"6165a2fb1d5c8a2e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":13,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000023","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9544702+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f1c200c1c53f207f70d6768998b70054","SpanId":"6165a2fb1d5c8a2e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000023","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9552551+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1c200c1c53f207f70d6768998b70054","SpanId":"6165a2fb1d5c8a2e","Properties":{"RequestMethod":"POST","RequestPath":"/api/unit/get-member","StatusCode":404,"Elapsed":0.8407,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.8407"}]}}
{"Timestamp":"2025-03-16T19:42:45.9560269+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1c200c1c53f207f70d6768998b70054","SpanId":"6165a2fb1d5c8a2e","Properties":{"ElapsedMilliseconds":3.2719,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000023","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:45.9576213+07:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"f1c200c1c53f207f70d6768998b70054","SpanId":"6165a2fb1d5c8a2e","Properties":{"Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000023","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.6746099+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"926c185bda720dcfb935a61832bc0560","SpanId":"53175373604a8916","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000025","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.6763403+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"926c185bda720dcfb935a61832bc0560","SpanId":"53175373604a8916","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000025","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.6766226+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"926c185bda720dcfb935a61832bc0560","SpanId":"53175373604a8916","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/create","StatusCode":204,"Elapsed":0.3699,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.3699"}]}}
{"Timestamp":"2025-03-16T19:42:56.6779172+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"926c185bda720dcfb935a61832bc0560","SpanId":"53175373604a8916","Properties":{"ElapsedMilliseconds":3.3278,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000025","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.6791822+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":205,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.6802856+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.8143532+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"elapsed":"133","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.8175874+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"EndpointName":"HTTP: POST /api/unit/create => CreateUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.9024609+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"elapsed":"65","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"CreatedDate\", t.\"Description\", t.\"IsWorkSpacePersonal\", t.\"Name\", t.\"Owner\", t.\"OwnerName\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Id\" = @__get_Item_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:56.9721671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"elapsed":"60","parameters":"@__Parse_0='?' (DbType = Guid), @__rq_TenantId_1='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"CreatedDate\", t.\"Description\", t.\"IsWorkSpacePersonal\", t.\"Name\", t.\"Owner\", t.\"OwnerName\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND t.\"Id\" = @__rq_TenantId_1\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:58.5636458+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:58.5773698+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"860642882665d7c7291de80d4cff8231","SpanId":"9a4a0807e6b3f568","Properties":{"ElapsedMilliseconds":32183.6788,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000013","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:59.8462019+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:42:59.8509527+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.0104306+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.0277035+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.0464858+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.0482232+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":200,"Elapsed":15401.308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15401.3080"}]}}
{"Timestamp":"2025-03-16T19:43:00.0490462+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c8bb319c572dffdcbb0d5c1805ec9cd","SpanId":"02c22dd59f525d23","Properties":{"ElapsedMilliseconds":15405.624,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000001F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.7628614+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":205,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.7640747+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.8274641+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"elapsed":"62","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.8301951+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"EndpointName":"HTTP: POST /api/unit/create => CreateUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.8982271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"elapsed":"63","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"CreatedDate\", t.\"Description\", t.\"IsWorkSpacePersonal\", t.\"Name\", t.\"Owner\", t.\"OwnerName\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Id\" = @__get_Item_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:00.9568774+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"elapsed":"56","parameters":"@__Parse_0='?' (DbType = Guid), @__rq_TenantId_1='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"CreatedDate\", t.\"Description\", t.\"IsWorkSpacePersonal\", t.\"Name\", t.\"Owner\", t.\"OwnerName\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND t.\"Id\" = @__rq_TenantId_1\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0672729+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0731754+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0847439+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0866503+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0895695+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"EndpointName":"HTTP: POST /api/unit/create => CreateUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:12.0900024+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"RequestMethod":"POST","RequestPath":"/api/unit/create","StatusCode":200,"Elapsed":15409.7843,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15409.7843"}]}}
{"Timestamp":"2025-03-16T19:43:12.0908260+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f24d1618a75516255a7cc677c3388d68","SpanId":"c10aa49e29d45da5","Properties":{"ElapsedMilliseconds":15411.6358,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000027","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9737629+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9773800+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9923196+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9931867+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9946759+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"EndpointName":"HTTP: POST /api/unit/create => CreateUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:15.9954690+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"RequestMethod":"POST","RequestPath":"/api/unit/create","StatusCode":200,"Elapsed":15231.4596,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15231.4596"}]}}
{"Timestamp":"2025-03-16T19:43:15.9970238+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c79ac69407c8922838070fda014d86ec","SpanId":"0cbb7f1bc285d6fc","Properties":{"ElapsedMilliseconds":15234.1506,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000029","RequestPath":"/api/unit/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:17.9595260+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ddf3a12c42e188f87b81a5718753836a","SpanId":"101d7d3e2aa912fe","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002B","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:17.9626932+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ddf3a12c42e188f87b81a5718753836a","SpanId":"101d7d3e2aa912fe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000002B","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:17.9629540+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ddf3a12c42e188f87b81a5718753836a","SpanId":"101d7d3e2aa912fe","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":204,"Elapsed":0.3304,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.3304"}]}}
{"Timestamp":"2025-03-16T19:43:17.9649645+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ddf3a12c42e188f87b81a5718753836a","SpanId":"101d7d3e2aa912fe","Properties":{"ElapsedMilliseconds":5.4319,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002B","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:17.9665705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:17.9692842+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:18.0364394+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"elapsed":"66","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:18.0387610+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1253394+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1b9dae7afbaa87d0cc32a12947746033","SpanId":"aee2a5e4d5d5dc48","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002F","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1273895+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1b9dae7afbaa87d0cc32a12947746033","SpanId":"aee2a5e4d5d5dc48","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000002F","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1278739+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1b9dae7afbaa87d0cc32a12947746033","SpanId":"aee2a5e4d5d5dc48","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/.well-known/openid-configuration","StatusCode":204,"Elapsed":0.5447,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.5447"}]}}
{"Timestamp":"2025-03-16T19:43:21.1289125+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1b9dae7afbaa87d0cc32a12947746033","SpanId":"aee2a5e4d5d5dc48","Properties":{"ElapsedMilliseconds":3.5695,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002F","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1300225+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1324053+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1329719+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1336556+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1342862+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1349989+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1365763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":4.2351,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4.2351"}]}}
{"Timestamp":"2025-03-16T19:43:21.1379836+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"281499613a36653643d12608a0393e65","SpanId":"2853d85efd801457","Properties":{"ElapsedMilliseconds":7.9438,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000031","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1869890+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"980b99f28d90d0c78e889991cfcb0fc5","SpanId":"8d242185aaeccc10","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000033","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1888587+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"980b99f28d90d0c78e889991cfcb0fc5","SpanId":"8d242185aaeccc10","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000033","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1894299+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"980b99f28d90d0c78e889991cfcb0fc5","SpanId":"8d242185aaeccc10","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":204,"Elapsed":0.6689,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6689"}]}}
{"Timestamp":"2025-03-16T19:43:21.1927353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"980b99f28d90d0c78e889991cfcb0fc5","SpanId":"8d242185aaeccc10","Properties":{"ElapsedMilliseconds":5.7305,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000033","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1938079+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.1958847+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2005343+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd5b8d3306a2c36b5314e5da498bad4f","SpanId":"f830e676c4d1e19e","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000037","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2025377+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"bd5b8d3306a2c36b5314e5da498bad4f","SpanId":"f830e676c4d1e19e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000037","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2032508+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd5b8d3306a2c36b5314e5da498bad4f","SpanId":"f830e676c4d1e19e","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/todo/list","StatusCode":204,"Elapsed":0.9521,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.9521"}]}}
{"Timestamp":"2025-03-16T19:43:21.2045071+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd5b8d3306a2c36b5314e5da498bad4f","SpanId":"f830e676c4d1e19e","Properties":{"ElapsedMilliseconds":3.9741,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000037","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2054583+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":30,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2087142+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2089039+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54fee6bc0e3248ce34bfba2e5b350726","SpanId":"5a7d5235d5031132","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003B","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2110264+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"54fee6bc0e3248ce34bfba2e5b350726","SpanId":"5a7d5235d5031132","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000003B","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2116582+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54fee6bc0e3248ce34bfba2e5b350726","SpanId":"5a7d5235d5031132","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-all-unit/null","StatusCode":204,"Elapsed":0.7156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.7156"}]}}
{"Timestamp":"2025-03-16T19:43:21.2127646+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54fee6bc0e3248ce34bfba2e5b350726","SpanId":"5a7d5235d5031132","Properties":{"ElapsedMilliseconds":3.8691,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003B","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2138028+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2159671+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2781776+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"elapsed":"80","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2804164+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2884624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"elapsed":"78","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2903845+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2952287+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"elapsed":"78","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2971263+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2976614+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.2981616+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/null","StatusCode":500,"Elapsed":82.324,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"82.3240"}]}}
{"Timestamp":"2025-03-16T19:43:21.3001508+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.3020874+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e4e2e5bedb03f7717bba6e6155a8a49","SpanId":"92369862a33f2480","Properties":{"ElapsedMilliseconds":88.2713,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003D","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.3580915+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"elapsed":"75","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND NOT (t.\"IsWorkSpacePersonal\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4149394+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"elapsed":"55","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"TenantId\"\r\nFROM \"TenantMembers\" AS t\r\nWHERE t.\"UserId\" = @__Parse_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4856190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"elapsed":"67","parameters":"@__tenant_TenantId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Id\" = @__tenant_TenantId_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4884181+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4889851+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4895674+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:21.4900746+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"RequestMethod":"GET","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":200,"Elapsed":294.321,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"294.3210"}]}}
{"Timestamp":"2025-03-16T19:43:21.4910516+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d389865a948e06034c580ee39da9cca","SpanId":"f7aaa74557a32074","Properties":{"ElapsedMilliseconds":297.2408,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000035","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:22.4980563+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:22.5005579+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:22.5644096+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"elapsed":"62","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:22.5668118+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:23.1915288+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b463527ff24fa45d7f86dd39e329254c","SpanId":"1f679beff5897ab7","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000041","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:23.1937531+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b463527ff24fa45d7f86dd39e329254c","SpanId":"1f679beff5897ab7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000041","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:23.1945012+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b463527ff24fa45d7f86dd39e329254c","SpanId":"1f679beff5897ab7","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":204,"Elapsed":0.8317,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.8317"}]}}
{"Timestamp":"2025-03-16T19:43:23.1957487+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b463527ff24fa45d7f86dd39e329254c","SpanId":"1f679beff5897ab7","Properties":{"ElapsedMilliseconds":4.1672,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000041","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5672948+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5685880+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5689642+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5694322+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5698414+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5702792+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.5712574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":2.7478,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2.7478"}]}}
{"Timestamp":"2025-03-16T19:43:24.5721861+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dfb55ca86ffa381cba68fd2a685d41d0","SpanId":"849128bc16df50c6","Properties":{"ElapsedMilliseconds":4.8983,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000043","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6092316+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6107261+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6156436+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":30,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6168259+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6215075+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6232078+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6687249+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"elapsed":"56","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6714071+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6817541+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6836345+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6892472+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"elapsed":"65","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6910934+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6916284+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6921033+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/null","StatusCode":500,"Elapsed":68.9989,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"68.9989"}]}}
{"Timestamp":"2025-03-16T19:43:24.6940150+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.6954882+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f514f17e8657233af3b22227ff7eae72","SpanId":"336cd1bed5385a73","Properties":{"ElapsedMilliseconds":73.9825,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000049","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.7319822+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"elapsed":"59","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND NOT (t.\"IsWorkSpacePersonal\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.7958304+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"elapsed":"62","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"TenantId\"\r\nFROM \"TenantMembers\" AS t\r\nWHERE t.\"UserId\" = @__Parse_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.8610883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"elapsed":"63","parameters":"@__tenant_TenantId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Id\" = @__tenant_TenantId_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.8626697+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.8634168+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.8641828+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:24.8648956+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"RequestMethod":"GET","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":200,"Elapsed":254.2483,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"254.2483"}]}}
{"Timestamp":"2025-03-16T19:43:24.8659998+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71c1caf7c90b8152b6889a1c0d0a0ba2","SpanId":"0ba074a70b195b01","Properties":{"ElapsedMilliseconds":256.7678,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000045","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4715257+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4735614+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4779875+07:00","Level":"Information","MessageTemplate":"The request URI matched a server endpoint: {Endpoint}.","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"Endpoint":"Configuration","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4787677+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully extracted: {Request}.","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"Request":"{}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4793621+07:00","Level":"Information","MessageTemplate":"The configuration request was successfully validated.","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4798854+07:00","Level":"Information","MessageTemplate":"The response was successfully returned as a JSON document: {Response}.","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"Response":"{\r\n  \"issuer\": \"https://localhost:7164/\",\r\n  \"authorization_endpoint\": \"https://localhost:7164/connect/authorize\",\r\n  \"token_endpoint\": \"https://localhost:7164/connect/token\",\r\n  \"introspection_endpoint\": \"https://localhost:7164/connect/introspect\",\r\n  \"end_session_endpoint\": \"https://localhost:7164/connect/logout\",\r\n  \"userinfo_endpoint\": \"https://localhost:7164/connect/userinfo\",\r\n  \"jwks_uri\": \"https://localhost:7164/.well-known/jwks\",\r\n  \"grant_types_supported\": [\r\n    \"authorization_code\",\r\n    \"password\",\r\n    \"implicit\",\r\n    \"refresh_token\",\r\n    \"client_credentials\"\r\n  ],\r\n  \"response_types_supported\": [\r\n    \"code\",\r\n    \"id_token\",\r\n    \"id_token token\",\r\n    \"token\"\r\n  ],\r\n  \"response_modes_supported\": [\r\n    \"form_post\",\r\n    \"fragment\",\r\n    \"query\"\r\n  ],\r\n  \"scopes_supported\": [\r\n    \"openid\",\r\n    \"email\",\r\n    \"profile\",\r\n    \"roles\",\r\n    \"offline_access\"\r\n  ],\r\n  \"claims_supported\": [\r\n    \"aud\",\r\n    \"exp\",\r\n    \"iat\",\r\n    \"iss\",\r\n    \"sub\"\r\n  ],\r\n  \"id_token_signing_alg_values_supported\": [\r\n    \"RS256\"\r\n  ],\r\n  \"code_challenge_methods_supported\": [\r\n    \"plain\",\r\n    \"S256\"\r\n  ],\r\n  \"subject_types_supported\": [\r\n    \"public\"\r\n  ],\r\n  \"token_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"introspection_endpoint_auth_methods_supported\": [\r\n    \"client_secret_post\",\r\n    \"private_key_jwt\",\r\n    \"client_secret_basic\"\r\n  ],\r\n  \"claims_parameter_supported\": false,\r\n  \"request_parameter_supported\": false,\r\n  \"request_uri_parameter_supported\": false,\r\n  \"authorization_response_iss_parameter_supported\": true\r\n}","SourceContext":"OpenIddict.Server.OpenIddictServerDispatcher","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.4809120+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"RequestMethod":"GET","RequestPath":"/.well-known/openid-configuration","StatusCode":200,"Elapsed":7.4517,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7.4517"}]}}
{"Timestamp":"2025-03-16T19:43:25.4825242+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce0eca0ae30b800949958bdd39c2843d","SpanId":"0c3b4e203af6c915","Properties":{"ElapsedMilliseconds":10.9929,"StatusCode":200,"ContentType":"application/json;charset=UTF-8","ContentLength":1626,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004B","RequestPath":"/.well-known/openid-configuration","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5166491+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5188541+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5248885+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":30,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5262231+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5321732+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5340328+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5814699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"elapsed":"61","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5836172+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5930203+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"elapsed":"65","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5948820+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5976583+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"elapsed":"62","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5993308+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.5998359+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.6003147+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/null","StatusCode":500,"Elapsed":66.3737,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.3737"}]}}
{"Timestamp":"2025-03-16T19:43:25.6018306+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to bind parameter \"Guid id\" from \"null\".\r\n   at lambda_method360(Closure, Object, HttpContext)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.6040649+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c68b325df08178117518497423c09db1","SpanId":"aeb9c950210545db","Properties":{"ElapsedMilliseconds":71.8894,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/null","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000051","RequestPath":"/api/unit/get-all-unit/null","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.6427254+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"elapsed":"58","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Owner\" = @__Parse_0 AND NOT (t.\"IsWorkSpacePersonal\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7079835+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"elapsed":"64","parameters":"@__Parse_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"TenantId\"\r\nFROM \"TenantMembers\" AS t\r\nWHERE t.\"UserId\" = @__Parse_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7709116+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"elapsed":"62","parameters":"@__tenant_TenantId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT t.\"Id\", t.\"Name\", t.\"Owner\", t.\"OwnerName\", t.\"Description\", t.\"CreatedDate\"\r\nFROM \"Tenants\" AS t\r\nWHERE t.\"Id\" = @__tenant_TenantId_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7722797+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7730178+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7735832+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"EndpointName":"HTTP: GET /api/tenant/get-all-from-owner => GetListTenantFromOwner","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:25.7742794+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"RequestMethod":"GET","RequestPath":"/api/tenant/get-all-from-owner","StatusCode":200,"Elapsed":255.5091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"255.5091"}]}}
{"Timestamp":"2025-03-16T19:43:25.7750751+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02769bef900bf62dc658441435268df9","SpanId":"8016de6dc81468d2","Properties":{"ElapsedMilliseconds":258.4365,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/tenant/get-all-from-owner","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004D","RequestPath":"/api/tenant/get-all-from-owner","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:26.8851554+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:26.8863832+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:26.9519207+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:26.9537996+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3623991+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2716e75fc822c90c2f7644727c103dd6","SpanId":"46bf71429ed37ee8","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000055","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3643426+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2716e75fc822c90c2f7644727c103dd6","SpanId":"46bf71429ed37ee8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000055","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3650949+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2716e75fc822c90c2f7644727c103dd6","SpanId":"46bf71429ed37ee8","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/unit/get-member","StatusCode":204,"Elapsed":0.8559,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.8559"}]}}
{"Timestamp":"2025-03-16T19:43:28.3668908+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2716e75fc822c90c2f7644727c103dd6","SpanId":"46bf71429ed37ee8","Properties":{"ElapsedMilliseconds":4.4858,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000055","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3685972+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a06d6f9cd4440143c60a477c7d71e6ec","SpanId":"02343546b7f9328e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":13,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000057","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3744821+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a06d6f9cd4440143c60a477c7d71e6ec","SpanId":"02343546b7f9328e","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000057","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3749467+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a06d6f9cd4440143c60a477c7d71e6ec","SpanId":"02343546b7f9328e","Properties":{"RequestMethod":"POST","RequestPath":"/api/unit/get-member","StatusCode":404,"Elapsed":0.5129,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.5129"}]}}
{"Timestamp":"2025-03-16T19:43:28.3758689+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a06d6f9cd4440143c60a477c7d71e6ec","SpanId":"02343546b7f9328e","Properties":{"ElapsedMilliseconds":7.2632,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000057","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:28.3775027+07:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"a06d6f9cd4440143c60a477c7d71e6ec","SpanId":"02343546b7f9328e","Properties":{"Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-member","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000057","RequestPath":"/api/unit/get-member","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0405140+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0435804+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0529668+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0536592+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0552743+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:33.0561753+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":200,"Elapsed":15086.9624,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15086.9624"}]}}
{"Timestamp":"2025-03-16T19:43:33.0573335+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"120f2c25aebccded4ded7c18707eb7e6","SpanId":"fea14d8d6a7a6be7","Properties":{"ElapsedMilliseconds":15090.7692,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000002D","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:36.3054485+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:36.3087769+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:36.3262929+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:36.3269885+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/list","StatusCode":500,"Elapsed":15118.635,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15118.6350"}]}}
{"Timestamp":"2025-03-16T19:43:36.3362851+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:36.9122032+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"elapsed":"83","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.4386837+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"elapsed":"62","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.4987011+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"elapsed":"56","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5689711+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5726814+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5858906+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5867668+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5873856+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:37.5878890+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":200,"Elapsed":15087.8135,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15087.8135"}]}}
{"Timestamp":"2025-03-16T19:43:37.5888092+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e4dbd9476f61a28fd934c99957d57f58","SpanId":"a395eacf5814f2bc","Properties":{"ElapsedMilliseconds":15090.7646,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000003F","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:39.6880354+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:39.6910694+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:39.6979014+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:39.6988142+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/list","StatusCode":500,"Elapsed":15082.0522,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15082.0522"}]}}
{"Timestamp":"2025-03-16T19:43:39.7067905+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.1636743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"elapsed":"62","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6003928+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6049145+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"elapsed":"60","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6052729+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6153329+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6160064+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/list","StatusCode":500,"Elapsed":15089.8469,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15089.8469"}]}}
{"Timestamp":"2025-03-16T19:43:40.6224146+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:40.6646198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"elapsed":"57","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.0327667+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"elapsed":"62","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.4884544+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"elapsed":"63","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.5486693+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"elapsed":"56","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9562222+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"database":"ActivePerf","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9591186+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"PerfSvc.Infrastructure.PerfDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9685676+07:00","Level":"Information","MessageTemplate":"Setting HTTP status code {StatusCode}.","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"WritingResultAsStatusCode"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9691522+07:00","Level":"Information","MessageTemplate":"Writing value of type '{Type}' as Json.","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"Type":"<>f__AnonymousType1`3","EventId":{"Id":3,"Name":"WritingResultAsJson"},"SourceContext":"Microsoft.AspNetCore.Http.Result.OkObjectResult","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9698444+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"EndpointName":"HTTP: GET /api/unit/get-all-unit/{id} => GetAllUnitFromTenant","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:41.9704920+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"RequestMethod":"GET","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","StatusCode":200,"Elapsed":15084.1698,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15084.1698"}]}}
{"Timestamp":"2025-03-16T19:43:41.9717051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"90a1d9f05fe3c29585956684aa24ee6a","SpanId":"33d0ef1aa756d3a1","Properties":{"ElapsedMilliseconds":15086.5473,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000053","RequestPath":"/api/unit/get-all-unit/4881faf5-801f-483b-96f1-91e65bbf424f","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:52.5086829+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:52.5182687+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"816eb67e70381c4526ac10b47fd19d53","SpanId":"4c7beadcf5606413","Properties":{"ElapsedMilliseconds":31312.826,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000039","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:55.6873590+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:55.6967081+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4300284fc4f9098a94afe23b5d4badbb","SpanId":"be69ce0cea9d4f14","Properties":{"ElapsedMilliseconds":31081.0605,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000047","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:56.5584408+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:43:56.5682847+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb18a8f66c081262909e738f241e332d","SpanId":"2a7e5c469cdf13e4","Properties":{"ElapsedMilliseconds":31043.3929,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000004F","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.1734159+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3cbaa5aa5c2f62d8195c8adbcee3476c","SpanId":"8d52780b1637eba8","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000059","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.1749389+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3cbaa5aa5c2f62d8195c8adbcee3476c","SpanId":"8d52780b1637eba8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000059","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.1764470+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3cbaa5aa5c2f62d8195c8adbcee3476c","SpanId":"8d52780b1637eba8","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/object/get-all-object-from-unit","StatusCode":204,"Elapsed":1.6051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1.6051"}]}}
{"Timestamp":"2025-03-16T19:44:52.1777610+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3cbaa5aa5c2f62d8195c8adbcee3476c","SpanId":"8d52780b1637eba8","Properties":{"ElapsedMilliseconds":4.348,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000059","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.1793241+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":29,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.1828462+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.2476953+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"elapsed":"63","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.2516469+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"EndpointName":"HTTP: POST /api/object/get-all-object-from-unit => GetAllObjectFromUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.2559343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"EndpointName":"HTTP: POST /api/object/get-all-object-from-unit => GetAllObjectFromUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.2568624+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"GetAllObjectFromUnitQuery query\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: JSON deserialization for type 'PerfSvc.Application.Object.Queries.GetAllObjectFromUnitQuery' was missing required properties, including the following: unitId\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_JsonRequiredPropertyMissing(JsonTypeInfo parent, BitArray requiredPropertiesSet)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/object/get-all-object-from-unit","StatusCode":500,"Elapsed":75.7476,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75.7476"}]}}
{"Timestamp":"2025-03-16T19:44:52.2694951+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"GetAllObjectFromUnitQuery query\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: JSON deserialization for type 'PerfSvc.Application.Object.Queries.GetAllObjectFromUnitQuery' was missing required properties, including the following: unitId\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_JsonRequiredPropertyMissing(JsonTypeInfo parent, BitArray requiredPropertiesSet)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:52.2746462+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ded72a1ac43156cd77c5e74bd76c4408","SpanId":"229ac3e0cff6fca9","Properties":{"ElapsedMilliseconds":95.3171,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005B","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7185769+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"91403fa69d02d124e4c9c19d5ace16b8","SpanId":"a5b573ed41c87bae","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005D","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7201440+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"91403fa69d02d124e4c9c19d5ace16b8","SpanId":"a5b573ed41c87bae","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000005D","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7207003+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"91403fa69d02d124e4c9c19d5ace16b8","SpanId":"a5b573ed41c87bae","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/object/get-all-object-from-unit","StatusCode":204,"Elapsed":0.6097,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6097"}]}}
{"Timestamp":"2025-03-16T19:44:59.7217232+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"91403fa69d02d124e4c9c19d5ace16b8","SpanId":"a5b573ed41c87bae","Properties":{"ElapsedMilliseconds":3.1474,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005D","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7226159+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":29,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7250886+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7911198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"elapsed":"65","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7938382+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"EndpointName":"HTTP: POST /api/object/get-all-object-from-unit => GetAllObjectFromUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7949655+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"EndpointName":"HTTP: POST /api/object/get-all-object-from-unit => GetAllObjectFromUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.7956527+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"GetAllObjectFromUnitQuery query\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: JSON deserialization for type 'PerfSvc.Application.Object.Queries.GetAllObjectFromUnitQuery' was missing required properties, including the following: unitId\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_JsonRequiredPropertyMissing(JsonTypeInfo parent, BitArray requiredPropertiesSet)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/object/get-all-object-from-unit","StatusCode":500,"Elapsed":70.6049,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.6049"}]}}
{"Timestamp":"2025-03-16T19:44:59.8002230+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Exception":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"GetAllObjectFromUnitQuery query\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: JSON deserialization for type 'PerfSvc.Application.Object.Queries.GetAllObjectFromUnitQuery' was missing required properties, including the following: unitId\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_JsonRequiredPropertyMissing(JsonTypeInfo parent, BitArray requiredPropertiesSet)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:44:59.8054058+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9246021a4506b95b86ebae50203bfbe","SpanId":"3b3440f496e905fe","Properties":{"ElapsedMilliseconds":82.8028,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/object/get-all-object-from-unit","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:0000005F","RequestPath":"/api/object/get-all-object-from-unit","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.7339240+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ef7bf965acd1741178d630d5a300911","SpanId":"af5cc892c9b2e2c0","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000061","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.7360482+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1ef7bf965acd1741178d630d5a300911","SpanId":"af5cc892c9b2e2c0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000061","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.7366420+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ef7bf965acd1741178d630d5a300911","SpanId":"af5cc892c9b2e2c0","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/todo/create","StatusCode":204,"Elapsed":0.6954,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6954"}]}}
{"Timestamp":"2025-03-16T19:45:37.7373745+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ef7bf965acd1741178d630d5a300911","SpanId":"af5cc892c9b2e2c0","Properties":{"ElapsedMilliseconds":3.4514,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000061","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.7384624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":285,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/create","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.7409254+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.8002061+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"elapsed":"58","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:37.8030701+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"EndpointName":"HTTP: POST /api/todo/create => CreateTodoItem","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7141558+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7a951bc337ee7f217193d690a3ed215","SpanId":"f9963b91dd75ead6","Properties":{"Protocol":"HTTP/2","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000065","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7160093+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a7a951bc337ee7f217193d690a3ed215","SpanId":"f9963b91dd75ead6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000065","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7165996+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7a951bc337ee7f217193d690a3ed215","SpanId":"f9963b91dd75ead6","Properties":{"RequestMethod":"OPTIONS","RequestPath":"/api/todo/list","StatusCode":204,"Elapsed":0.6746,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.6746"}]}}
{"Timestamp":"2025-03-16T19:45:40.7183625+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7a951bc337ee7f217193d690a3ed215","SpanId":"f9963b91dd75ead6","Properties":{"ElapsedMilliseconds":4.2029,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"OPTIONS","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000065","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7196438+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":30,"Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7248905+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7906127+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"elapsed":"64","parameters":"@__identifier_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT o.\"Id\", o.\"ApplicationId\", o.\"AuthorizationId\", o.\"ConcurrencyToken\", o.\"CreationDate\", o.\"ExpirationDate\", o.\"Payload\", o.\"Properties\", o.\"RedemptionDate\", o.\"ReferenceId\", o.\"Status\", o.\"Subject\", o.\"Type\", o0.\"Id\", o0.\"ApplicationType\", o0.\"ClientId\", o0.\"ClientSecret\", o0.\"ClientType\", o0.\"ConcurrencyToken\", o0.\"ConsentType\", o0.\"DisplayName\", o0.\"DisplayNames\", o0.\"JsonWebKeySet\", o0.\"Permissions\", o0.\"PostLogoutRedirectUris\", o0.\"Properties\", o0.\"RedirectUris\", o0.\"Requirements\", o0.\"Settings\", o1.\"Id\", o1.\"ApplicationId\", o1.\"ConcurrencyToken\", o1.\"CreationDate\", o1.\"Properties\", o1.\"Scopes\", o1.\"Status\", o1.\"Subject\", o1.\"Type\"\r\nFROM \"OpenIddictTokens\" AS o\r\nLEFT JOIN \"OpenIddictApplications\" AS o0 ON o.\"ApplicationId\" = o0.\"Id\"\r\nLEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o.\"AuthorizationId\" = o1.\"Id\"\r\nWHERE o.\"ReferenceId\" = @__identifier_0\r\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:40.7943042+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:52.9065119+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:52.9098708+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:52.9185868+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"EndpointName":"HTTP: POST /api/todo/create => CreateTodoItem","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:52.9192485+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at TodoSvc.Application.Commands.CreateTodoCommandHandler.Handle(CreateTodoCommand request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Commands\\CreateTodo.cs:line 74\r\n   at Bff.Endpoints.Todo.CreateTodoItem(ISender sender, CreateTodoCommand command) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 56\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/create","StatusCode":500,"Elapsed":15178.4749,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15178.4749"}]}}
{"Timestamp":"2025-03-16T19:45:52.9271376+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at TodoSvc.Application.Commands.CreateTodoCommandHandler.Handle(CreateTodoCommand request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Commands\\CreateTodo.cs:line 74\r\n   at Bff.Endpoints.Todo.CreateTodoItem(ISender sender, CreateTodoCommand command) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 56\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:53.4340841+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"elapsed":"67","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:53.8723291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"elapsed":"60","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:53.9378024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"elapsed":"63","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:55.8047363+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"database":"ActiveTodo","server":"tcp://124.158.4.180:5432","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:55.8081480+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"TodoSvc.Infrastructure.TodoDbContext","newline":"\r\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:55.8166114+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"EndpointName":"HTTP: POST /api/todo/list => GetTodoListByUnit","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:55.8174245+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/todo/list","StatusCode":500,"Elapsed":15092.6079,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15092.6079"}]}}
{"Timestamp":"2025-03-16T19:45:55.8265610+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\r\n ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at NetHelper.Common.Models.PaginatedList`1.CreateAsync(IQueryable`1 source, Int32 pageNumber, Int32 pageSize) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\NetHelper\\Common\\Models\\PaginatedList.cs:line 24\r\n   at TodoSvc.Application.Queries.GetTodoWithPaginationRequestHandler.Handle(GetTodoWithPaginationRequest request, CancellationToken cancellationToken) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\TodoSvc\\Todo.Application\\Queries\\GetTodoWithPagination.cs:line 34\r\n   at Bff.Endpoints.Todo.GetTodoListByUnit(ISender sender, GetTodoWithPaginationRequest query) in D:\\Thuc tap\\Eztek\\activebff\\ActiveBff\\src\\Bff\\Endpoints\\Todo.cs:line 45\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:56.2654295+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"elapsed":"63","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:56.7279322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"elapsed":"56","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:45:56.7940754+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"elapsed":"64","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:46:08.9501287+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:46:08.9592494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"008cfb91b0239400f88c62075475a919","SpanId":"d8443c27f49cd66f","Properties":{"ElapsedMilliseconds":31220.7771,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/create","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000063","RequestPath":"/api/todo/create","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:46:11.8040611+07:00","Level":"Error","MessageTemplate":"An exception occurred while calculating the database error page content. Skipping display of the database error page.","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Exception":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 124.158.4.180:5432\r\n ---> System.TimeoutException: The operation has timed out.\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.HttpContextDatabaseContextDetailsExtensions.GetContextDetailsAsync(HttpContext httpContext, Type dbcontextType, ILogger logger)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)","Properties":{"EventId":{"Id":7,"Name":"DatabaseErrorPageException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:46:11.8119872+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0aa5bde5c8c96a88e8621e090e6e51c8","SpanId":"c8c9d7edc2262b8d","Properties":{"ElapsedMilliseconds":31092.3313,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7164","PathBase":"","Path":"/api/todo/list","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNB4GVPL3IMT:00000067","RequestPath":"/api/todo/list","ConnectionId":"0HNB4GVPL3IMT"}}
{"Timestamp":"2025-03-16T19:50:02.2901778+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"63","parameters":"@__date_0='?' (DbType = DateTime), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM \"OpenIddictTokens\" AS o\r\nWHERE o.\"Id\" IN (\r\n    SELECT o0.\"Id\"\r\n    FROM \"OpenIddictTokens\" AS o0\r\n    LEFT JOIN \"OpenIddictAuthorizations\" AS o1 ON o0.\"AuthorizationId\" = o1.\"Id\"\r\n    WHERE o0.\"CreationDate\" < @__date_0 AND (((o0.\"Status\" <> 'inactive' OR o0.\"Status\" IS NULL) AND (o0.\"Status\" <> 'valid' OR o0.\"Status\" IS NULL)) OR (o1.\"Id\" IS NOT NULL AND (o1.\"Status\" <> 'valid' OR o1.\"Status\" IS NULL)) OR o0.\"ExpirationDate\" < now() AT TIME ZONE 'UTC')\r\n    ORDER BY o0.\"Id\"\r\n    LIMIT @__p_1\r\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T19:50:02.3670607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"57","parameters":"@__date_0='?' (DbType = DateTime), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM \"OpenIddictAuthorizations\" AS o\r\nWHERE o.\"Id\" IN (\r\n    SELECT o0.\"Id\"\r\n    FROM \"OpenIddictAuthorizations\" AS o0\r\n    WHERE o0.\"CreationDate\" < @__date_0 AND (o0.\"Status\" <> 'valid' OR o0.\"Status\" IS NULL OR (o0.\"Type\" = 'ad-hoc' AND NOT EXISTS (\r\n        SELECT 1\r\n        FROM \"OpenIddictTokens\" AS o1\r\n        WHERE o0.\"Id\" = o1.\"AuthorizationId\")))\r\n    ORDER BY o0.\"Id\"\r\n    LIMIT @__p_1\r\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-03-16T20:03:29.4078826+07:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-03-16T20:03:29.4173606+07:00","Level":"Information","MessageTemplate":"Scheduler {0} shutting down.","Properties":{"0":"QuartzScheduler_$_NON_CLUSTERED","SourceContext":"Quartz.Core.QuartzScheduler"}}
{"Timestamp":"2025-03-16T20:03:29.4192539+07:00","Level":"Information","MessageTemplate":"Scheduler QuartzScheduler_$_NON_CLUSTERED paused.","Properties":{"SourceContext":"Quartz.Core.QuartzScheduler"}}
{"Timestamp":"2025-03-16T20:03:29.4234126+07:00","Level":"Information","MessageTemplate":"Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.","Properties":{"SourceContext":"Quartz.Core.QuartzScheduler"}}
